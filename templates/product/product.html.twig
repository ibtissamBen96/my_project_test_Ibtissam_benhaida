{% extends 'base.html.twig' %}

{% block title %}Gestion des Restaurants{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>
                    

		 


	    

        <div  style="max-width: 100%;margin-left:30px;margin-right:30px;">
           
			      <h3 class="card-header text-default">
                                Gestionprodt des Produit
                    </h3>
                     <br>
                
                  
                {% for message in app.flashes('success') %}
                    <div class="alert alert-success">
                        {{ message }}
                    </div>
                {% endfor %}

                {% for message in app.flashes('error') %}
                    <div class="alert alert-error">
                        {{ message }}
                    </div>
                {% endfor %}
                           
                    
				<a href="{{path('create_product')}}"  class="btn btn-primary"><span>Ajouter Produit</span></a>
					

                    <div class="card-body mt-2 rounded">
                <table class="table table-striped table-hover">
				  <thead>
					<tr>
                        <th >Image</th>
						<th>Nom</th>
						<th>Description</th>
						<th>Date de Creation</th>
						<th>Prix</th>
                        <th>Quantity</th>
                        <th>Categorie</th>
                        <th>Action</th>
					</tr>
				</thead>
				<tbody>
				{% for product in products %}
					<tr>
					    <td style="width: 20%;"><img src="{{ asset('images/') }}{{product.image}}" class="img-thumbnail" style="max-width: 30%;"></td>
						<td>{{product.name}}</td>
						<td>{{product.description}}</td>
						<td>{{product.getCreateAt()|date}}</td>
                        <td>{{product.prix}}</td>
                        <td>{{product.quantity}}</td>
                         <td>{{product.getCategorie().name}}</td>
						<td>  
                        <div style="float: left;"> 
                        <a href="{{path('update_product',{'id':product.id})}}" class="btn btn-warning" ><span class="glyphicon glyphicon-edit"></span></a>
                       </div>

                       <div style="float: right;"> 
                       
                        <form action="{{ url('delete_product', { id: product.id }) }}" method="post">
                            <input type="hidden" name="token" value="{{ csrf_token('delete-item') }}"/>
                            <button type="submit" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span></button>
                        </form>

                        </div>

						</td>
					</tr>
					{% endfor %}
						
				</tbody>
			</table>

           
            

                            </div>



    
               
        </div>


{% endblock %}
